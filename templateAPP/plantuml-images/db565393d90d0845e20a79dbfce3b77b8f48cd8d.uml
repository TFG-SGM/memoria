@startuml

entity admins{
_id : ObjectId
name : string
surname : string
age : number
city : string 
email : string
phone : string
password : string
uId : string
}

entity doctors{
_id : ObjectId
name : string
surname : string
age : number
city : string 
email : string
phone : string
password : string
uId : string
}

entity patients{
_id : ObjectId
name : string
surname : string
age : number
city : string 
email : string
phone : string
weight : number
height : number
isFibro: boolean
diagnosisYears: number
activityLevel: number
ocupation: string
assignedDoctor : string
uId : string
}

entity tests {
_id : ObjectId
doctorId : string
date : date
typeId : string
patientId: string
videoFile : {name: string, id: string}
evaScale: number
data: {time: string, quality: number, parts: object}
}

entity testTypes {
_id : ObjectId
name : string
bodyParts: string[]
}


entity fs.files {
_id : ObjectId
lenght : number
chunkSize : number
uploadDate : date
filename : string
contentType : string
}

entity fs.chunks {
_id : ObjectId
files_id : ObjectId
n : number
data : BinData
}

patients "1" o-- "1" doctors
patients "1" o-- "0..*" tests
tests "1" o-- "1" doctors
tests "1" o-- "1" testTypes
tests "1" o-- "0..*" fs.files
fs.files "1" o-- "1..*" fs.chunks

@enduml